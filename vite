#!/usr/bin/env node

/**
 * VITE COMMAND INTERCEPTOR
 * This script intercepts vite build calls and redirects to our working esbuild system
 */

const args = process.argv.slice(2);

if (args.includes('build')) {
  console.log('🔧 Intercepting vite build - using working esbuild approach...');
  
  import('./build-replit.js').then(() => {
    console.log('✅ Build completed successfully');
  }).catch(err => {
    console.error('❌ Build failed:', err);
    process.exit(1);
  });
} else {
  // For non-build commands, use the real vite
  import('vite').then(vite => {
    vite.cli.start(args);
  });
}