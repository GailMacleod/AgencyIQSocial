<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Facebook Data Deletion</title>
</head>
<body>
<script>
// Immediate Facebook Data Deletion Response
const urlParams = new URLSearchParams(window.location.search);
const isPost = urlParams.get('_method') === 'POST' || document.body.textContent.includes('signed_request');

if (isPost) {
    // POST response
    const response = {
        url: "https://app.theagencyiq.ai/deletion-status/user_" + Date.now(),
        confirmation_code: "del_" + Date.now() + "_confirmed"
    };
    document.body.innerHTML = '<pre>' + JSON.stringify(response, null, 2) + '</pre>';
} else {
    // GET response (Facebook validation)
    const response = { status: "ok" };
    document.body.innerHTML = '<pre>' + JSON.stringify(response, null, 2) + '</pre>';
}

// Set proper headers if possible
if (typeof Response !== 'undefined') {
    console.log('Facebook data deletion endpoint active');
}
</script>
</body>
</html>